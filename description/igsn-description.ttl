# baseURI: http://schema.igsn.org/description
# imports: http://purl.org/dc/terms/
# imports: http://www.opengis.net/ont/geosparql
# imports: http://www.w3.org/ns/dcat
# imports: http://www.w3.org/ns/ssn/
# imports: http://www.w3.org/ns/ssn/ext
# prefix: igsn

@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix igsn: <http://schema.igsn.org/description#> .
@prefix odm2: <http://vocabulary.odm2.org/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<http://schema.igsn.org/description>
  a owl:Ontology ;
  dcterms:created "2020-02-18"^^xsd:date ;
  dcterms:creator "<a href='https://orcid.org/0000-0002-3884-3420'>Simon J D Cox, CSIRO</a>"^^rdf:HTML ;
  dcterms:description "An RDF-based implementation of the IGSN core metadata model, utilizing elements from commonly-used RDF vocabularies in preference to creating new elements" ;
  dcterms:isVersionOf <https://github.com/IGSN/metadata/blob/master/description/resource.xsd> ;
  dcterms:title "IGSN core metadata" ;
  owl:imports dcterms: ;
  owl:imports <http://www.opengis.net/ont/geosparql> ;
  owl:imports <http://www.w3.org/ns/dcat> ;
  owl:imports <http://www.w3.org/ns/ssn/> ;
  owl:imports <http://www.w3.org/ns/ssn/ext> ;
.
igsn:Collection
  a owl:Class ;
  rdfs:label "Collection" ;
  rdfs:subClassOf igsn:Resource ;
.
igsn:Feature
  a owl:Class ;
  rdfs:label "Feature" ;
  rdfs:subClassOf igsn:Resource ;
.
igsn:IGSN
  a rdfs:Datatype ;
  rdfs:label "IGSN identifier" ;
  owl:equivalentClass [
      a rdfs:Datatype ;
      owl:onDatatype xsd:string ;
      owl:withRestrictions (
          [
            xsd:maxLength 100 ;
          ]
        ) ;
    ] ;
.
igsn:Resource
  a owl:Class ;
  rdfs:comment "IGSN \"birth certificate\" for a physical sample, associated feature, or collection" ;
  rdfs:label "Resource" ;
  rdfs:subClassOf <http://www.w3.org/ns/sosa/FeatureOfInterest> ;
  rdfs:subClassOf [
      a owl:Restriction ;
      rdfs:comment "(1.) identifier - currently only type=IGSN is supported" ;
      rdfs:comment "(2.) name - the collector or contributor's local/field name; not globally unique but typically unique within a submitted set" ;
      rdfs:comment "(3.) alternateIdentifiers - other formal identifiers for this resource, in addition to the IGSN" ;
      rdfs:comment "At least one identifier of type=IGSN must be present. Additional identifiers of other types may also be present." ;
      owl:onClass igsn:IGSN ;
      owl:onProperty dcterms:identifier ;
      owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      rdfs:comment "(10.) contributors - agents (persons or organizations) that contributed to this resource; investigator, funder, technician, etc." ;
      owl:minCardinality "0"^^xsd:nonNegativeInteger ;
      owl:onProperty dcterms:contributor ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      rdfs:comment "(11.) geoLocations (geometry cf. odm2:samplingfeaturegeotype|toponym) - location of the resource, expressed as 2-D geometry and/or place name(s)" ;
      owl:minCardinality "0"^^xsd:nonNegativeInteger ;
      owl:onProperty dcterms:spatial ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      rdfs:comment """(12.) resourceTypes - broad classification of this resource; must provide 1 term from 
              ODM2 vocabulary (specimentype or samplingfeaturetype) plus 0-N additional terms from any 
              vocabulary""" ;
      owl:minCardinality "0"^^xsd:nonNegativeInteger ;
      owl:onProperty dcterms:type ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      rdfs:comment "(13.) materials - physical medium of this resource; must provide 1 term from ODM2 vocabulary (medium) plus 0-N additional terms from any vocabulary; typically only used for samples" ;
      owl:minQualifiedCardinality "0"^^xsd:nonNegativeInteger ;
      owl:onClass odm2:medium ;
      owl:onProperty igsn:material ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      rdfs:comment "(14.) collectionMethods - broad classification of instrument/technique used to create or extract this resource - must provide 1 term from SESAR (collectionMethod) vocabulary plus 0-N additional terms from any vocabulary; typically only used for samples" ;
      owl:minCardinality "0"^^xsd:nonNegativeInteger ;
      owl:onProperty <http://www.w3.org/ns/sosa/usedProcedure> ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      rdfs:comment "(15.) collectionTime - time at which this resource was created or extracted; typically only used for samples" ;
      owl:onProperty dcterms:created ;
      owl:someValuesFrom <http://www.w3.org/2006/time#TemporalEntity> ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      rdfs:comment "(4.) parentIdentifier - IGSN of a resource from which this resource derives; note that a sample may have multiple parents" ;
      owl:minCardinality "0"^^xsd:nonNegativeInteger ;
      owl:onProperty <http://www.w3.org/ns/sosa/isSampleOf> ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      rdfs:comment "(6.) relatedIdentifiers - formal identifiers of resources related to this resource, including the scheme and relationtype for each; here we link to a field expedition, journal article, etc." ;
      owl:minCardinality "0"^^xsd:nonNegativeInteger ;
      owl:onProperty <http://www.w3.org/ns/dcat#qualifiedRelation> ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      rdfs:comment "(7.) description - free-text description of this resource" ;
      owl:minCardinality "0"^^xsd:nonNegativeInteger ;
      owl:onProperty dcterms:description ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      rdfs:comment "(8.) registrant (cf. datacite:publisher) - agent (person or organization) that registered the IGSN for this resource" ;
      owl:minCardinality "0"^^xsd:nonNegativeInteger ;
      owl:onProperty igsn:registrant ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      rdfs:comment "(9.) collector (cf. datacite:creator) - agent (person or organization) that created or extracted this physical specimen; typically only used for samples" ;
      owl:minCardinality "0"^^xsd:nonNegativeInteger ;
      owl:onProperty dcterms:creator ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      rdfs:comment """If available, this property supports linking to a description of the activity or event that created the resource, e.g. the act of sampling. 

The act-of-sampling will in turn record the time & date, protocol or procedure, sampling device that was utilized, and the identity of the operator.""" ;
      owl:allValuesFrom <http://www.w3.org/ns/sosa/Sampling> ;
      owl:onProperty <http://www.w3.org/ns/sosa/isResultOf> ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:cardinality "1"^^xsd:nonNegativeInteger ;
      owl:onProperty igsn:isMetadataPublic ;
    ] ;
.
igsn:Sample
  a owl:Class ;
  rdfs:label "Sample" ;
  rdfs:subClassOf igsn:Resource ;
  rdfs:subClassOf <http://www.w3.org/ns/sosa/Sample> ;
.
igsn:isMetadataPublic
  a owl:DatatypeProperty ;
  rdfs:label "Collection" ;
  rdfs:range xsd:boolean ;
.
igsn:material
  a owl:ObjectProperty ;
  rdfs:label "material" ;
.
igsn:registrant
  a owl:ObjectProperty ;
  rdfs:label "Registrant" ;
  rdfs:subPropertyOf dcterms:contributor ;
.
